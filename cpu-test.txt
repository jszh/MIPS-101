MOVE, SRLV, CMPI:

LI R0 1
LI R2 2
LI R5 10
MOVE R0 R2
OR R2 R5
LI R2 FF
SLL R2 R2 0
SRA R2 R2 0
SRLV R0 R2
MTIH R5
MFIH R4
LI R0 80
SLL R0 R0 0
MTSP R0
ADDSP 1
SW_SP R2 0
LW_SP R5 0
CMPI R0 0
BTEQZ 2
JR R7
NOP

LI R0 1
LI R2 2
LI R5 10
MOVE R0 R2  ; R0=2
OR R2 R5    ; R2=12
LI R2 FF
SLL R2 R2 0   ; FF00
SRA R2 R2 0   ; FFFF
SRLV R0 R2  ; R2=FFFF>>2=3FFF
MTIH R5 ; IH=10
MFIH R4 ; R4=10
LI R0 80
SLL R0 R0 0   ; R0=8000
MTSP R0
ADDSP 1   ; SP=8001
SW_SP R2 0  ; MEM[8001]=3FFF
LW_SP R5 0  ; R5=3FFF
CMPI R0 0   ; T=1
BTEQZ 2
JR R7
NOP


SW_RS:

LI R0 80 
SLL R0 R0 00
LI R1 11 
SW R0 R1 0
JR R7
NOP

LI R0 80 
SLL R0 R0 00
MTSP R0 
SW_RS 0
JR R7 
NOP
